import os

class Pelicula:
    def __init__(self, nombre):
        self.__nombre = nombre  

    def get_nombre(self):
        return self.__nombre


class CatalogoPeliculas:
    def __init__(self, nombre, ruta_archivo):
        self.nombre = nombre
        self.ruta_archivo = ruta_archivo
        if not os.path.exists(self.ruta_archivo):
            with open(self.ruta_archivo, 'w') as archivo:
                pass  

    def agregar(self, pelicula):
        with open(self.ruta_archivo, 'a') as archivo:
            archivo.write(pelicula.get_nombre() + '\n')
        print(f'PelÃ­cula "{pelicula.get_nombre()}" se agrego  al catÃ¡logo.')

    def listar(self):
        print("\n--- Lista de PelÃ­culasğŸ¬ ---")
        try:
            with open(self.ruta_archivo, 'r') as archivo:
                peliculas = archivo.readlines()
                if peliculas:
                    for i, nombre in enumerate(peliculas, 1):
                        print(f"{i}. {nombre.strip()}")
                else:
                    print("El catÃ¡logo estÃ¡ vacÃ­o.")
        except FileNotFoundError:
            print("El catÃ¡logo no existe.")

    def eliminar(self):
        if os.path.exists(self.ruta_archivo):
            os.remove(self.ruta_archivo)
            print("CatÃ¡logo eliminadoğŸš®.")
        else:
            print("El catÃ¡logo no existeğŸ¤·ğŸ½â€â™€ï¸.")


def ejecutar_programa():
    
    nombre_catalogo = input("bienvenido/a al catalogo de beluğŸ‘‹ğŸ½,por favor ingreseâœğŸ½ el nombre del catalogo que desea: ")
    archivo_catalogo = nombre_catalogo + ".txt"
    catalogo = CatalogoPeliculas(nombre_catalogo, archivo_catalogo)

    while True:
        print("\n--- MenÃº ---")
        print("1. Agregar PelÃ­culağŸ¬")
        print("2. Listar PelÃ­culasğŸ¬")
        print("3. Eliminar CatÃ¡logoğŸš®")
        print("4. SalirğŸšª")
        opcion = input("elija una opciÃ³n: ")
        if opcion == '1':
            nombre_peli = input("Ingresa el nombre de la pelÃ­cula: ")
            pelicula = Pelicula(nombre_peli)
            catalogo.agregar(pelicula)
        elif opcion == '2':
            catalogo.listar()
        elif opcion == '3':
            confirm = input("Â¿EstÃ¡s seguro que queres eliminar el catÃ¡logoğŸ¤”? (s/n): ")
            if confirm.lower() == 's':
                catalogo.eliminar()
        elif opcion == '4':
            print("Gracias por usar el catÃ¡logo de pelÃ­culas de beluğŸ¥°,hasta la proxima .")
            break
        else:
            print("OpciÃ³n invÃ¡lidaâœ–ï¸. Intenta de nuevo.")

if __name__ == "__main__":
    ejecutar_programa()
